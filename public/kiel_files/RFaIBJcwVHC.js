;/*FB_PKG_DELIM*/

__d("IGDExternalShareBarConstants",[],(function(t,n,r,o,a,i){"use strict";var e=1,l=68;i.IGDExternalShareBarPaddingX=e,i.IGDExternalShareItemWidthPx=l}),66);
__d("IGDExternalShareItem.react",["invariant","CometPressable.react","IGDExternalShareBarConstants","IGDSBox.react","IGDSTextVariants.react","PolarisContainerModuleUtils","PolarisIGTheme.react","PolarisUA","emptyFunction","react","react-compiler-runtime","requireDeferred","usePolarisAnalyticsContext","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=r("requireDeferred")("ExternalShareOptionImpressionFalcoEvent").__setRef("IGDExternalShareItem.react"),m=r("requireDeferred")("ExternalShareOptionTappedFalcoEvent").__setRef("IGDExternalShareItem.react"),p=r("requireDeferred")("ExternalShareSucceededFalcoEvent").__setRef("IGDExternalShareItem.react"),_={4:{paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",$$css:!0},5:{paddingInlineEnd:"x1gabggj",paddingInlineStart:"xaso8d8",$$css:!0},6:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x25sj25",$$css:!0},7:{paddingInlineEnd:"x1bjonze",paddingInlineStart:"x1pixwil",$$css:!0},8:{paddingInlineEnd:"xf159sx",paddingInlineStart:"xmzvs34",$$css:!0},9:{paddingInlineEnd:"xrw5ot4",paddingInlineStart:"x7coems",$$css:!0},10:{paddingInlineEnd:"x2vl965",paddingInlineStart:"xe2zdcy",$$css:!0},11:{paddingInlineEnd:"x1kukv79",paddingInlineStart:"x1iwz3mf",$$css:!0},12:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0}},f=4,g=4;function h(){var e=.33,t=window.innerWidth;if(!o("PolarisUA").isMobile())return g;var n=o("IGDExternalShareBarConstants").IGDExternalShareBarPaddingX*f,r=t-n,a=Math.round(r/(o("IGDExternalShareBarConstants").IGDExternalShareItemWidthPx+g*2)),i=r/(a-e),l=Math.ceil((i-o("IGDExternalShareBarConstants").IGDExternalShareItemWidthPx)/2);switch(l){case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:return l;default:return g}}function y(e){var t=o("react-compiler-runtime").c(28),n=e.icon,a=e.label,i=e.logData,l=e.onClick,c=e.url,f=l===void 0?r("emptyFunction"):l;c===void 0||f===r("emptyFunction")||s(0,51420);var g=r("usePolarisAnalyticsContext")(),y;t[0]!==g||t[1]!==i?(y=function(){i!=null&&d.onReady(function(e){return e.log(function(){return{media_author_id:i.media_author_id,media_id:i.media_id,module:o("PolarisContainerModuleUtils").getContainerModule(g),share_option:i.share_option}})})},t[0]=g,t[1]=i,t[2]=y):y=t[2];var C=y,b;t[3]!==C?(b={onImpressionStart:C},t[3]=C,t[4]=b):b=t[4];var v=r("useSinglePartialViewImpression")(b),S;t[5]!==g||t[6]!==i?(S=function(){i!=null&&(m.onReady(function(e){return e.log(function(){return babelHelpers.extends({module:o("PolarisContainerModuleUtils").getContainerModule(g)},i)})}),p.onReady(function(e){return e.log(function(){return babelHelpers.extends({module:o("PolarisContainerModuleUtils").getContainerModule(g)},i)})}))},t[5]=g,t[6]=i,t[7]=S):S=t[7];var R=S,L;t[8]!==c?(L=c!=null?{target:"_blank",url:c}:void 0,t[8]=c,t[9]=L):L=t[9];var E;t[10]!==R||t[11]!==f?(E=function(){f(),R()},t[10]=R,t[11]=f,t[12]=E):E=t[12];var k;t[13]===Symbol.for("react.memo_cache_sentinel")?(k={opacity:.5},t[13]=k):k=t[13];var I;t[14]!==n?(I=u.jsx(r("IGDSBox.react"),{alignItems:"center",color:o("PolarisIGTheme.react").isDarkMode()?"secondaryBackground":"highlightBackground",height:52,justifyContent:"center",shape:"circle",width:52,children:n}),t[14]=n,t[15]=I):I=t[15];var T;t[16]!==a?(T=u.jsx(r("IGDSBox.react"),{marginTop:2,children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{maxLines:2,textAlign:"center",children:a})}),t[16]=a,t[17]=T):T=t[17];var D;t[18]!==T||t[19]!==I?(D=u.jsxs(r("IGDSBox.react"),{alignItems:"center",height:104,paddingY:2,width:o("IGDExternalShareBarConstants").IGDExternalShareItemWidthPx+h()*2,xstyle:_[h()],children:[I,T]}),t[18]=T,t[19]=I,t[20]=D):D=t[20];var x;t[21]!==D||t[22]!==L||t[23]!==E?(x=u.jsx(r("CometPressable.react"),{linkProps:L,onPress:E,overlayDisabled:!0,pressedStyleValue:k,children:D}),t[21]=D,t[22]=L,t[23]=E,t[24]=x):x=t[24];var $;return t[25]!==v||t[26]!==x?($=u.jsx(r("IGDSBox.react"),{alignItems:"center",containerRef:v,shape:"rounded",children:x}),t[25]=v,t[26]=x,t[27]=$):$=t[27],$}l.default=y}),98);
__d("IGDSAppXPanoOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({"data-name":"Icons",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"m21.8 20.4-7.28-9.706 6.323-7.025a1 1 0 0 0-1.487-1.338l-6.058 6.733L8.3 2.4a.999.999 0 0 0-.8-.4H3a1 1 0 0 0-.8 1.6l7.28 9.706-6.323 7.025a1 1 0 0 0 1.487 1.338l6.058-6.733L15.7 21.6c.189.252.486.4.8.4H21a1 1 0 0 0 .8-1.6zM17 20 5 4h2l12 16h-2z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("IGDExternalShareBar.react",["fbt","IGDExternalShareBarConstants","IGDExternalShareItem.react","IGDSAppImessagePanoOutlineIcon.react","IGDSAppMessengerOutlineIcon.react","IGDSAppXPanoOutline24.svg.react","IGDSBarcelonaLogoIcon.react","IGDSBox.react","IGDSFacebookCircleOutlineIcon.react","IGDSForwardOutlineIcon.react","IGDSLinkOutlineIcon.react","IGDSMailOutlineIcon.react","IGDSSmsPanoOutlineIcon.react","IGDSWhatsappLogoOutlineIcon.react","PolarisHScrollContainer.react","PolarisPagerButton.react","PolarisPostShareStrings","PolarisPostShareUtils","PolarisShareHelpers","PolarisThirdPartyPlatformType","PolarisUA","polarisGetAppPlatform","polarisLogAction","promiseDone","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisCopyLinkDialog","usePolarisIgshHelpers"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=20;function d(e){var t,n=o("react-compiler-runtime").c(14),a=e.post,i=e.url,l=o("usePolarisCopyLinkDialog").usePolarisCopyLinkDialog(null,a),s;n[0]===Symbol.for("react.memo_cache_sentinel")?(s=u.jsx(r("IGDSLinkOutlineIcon.react"),{alt:o("PolarisPostShareStrings").COPY_LINK,size:c}),n[0]=s):s=n[0];var d=(t=a.owner)==null?void 0:t.id,m=a.id,p=a.loggingInfoToken,_;n[1]!==a?(_=o("PolarisPostShareUtils").getShareURL(a),n[1]=a,n[2]=_):_=n[2];var f;n[3]!==a.id||n[4]!==a.loggingInfoToken||n[5]!==d||n[6]!==_?(f={media_author_id:d,media_id:m,ranking_info_token:p,share_option:"copy_link",url:_},n[3]=a.id,n[4]=a.loggingInfoToken,n[5]=d,n[6]=_,n[7]=f):f=n[7];var g;n[8]!==l||n[9]!==i?(g=function(){return o("usePolarisIgshHelpers").shouldAppendIgshDesktop()?l(i):l()},n[8]=l,n[9]=i,n[10]=g):g=n[10];var h;return n[11]!==f||n[12]!==g?(h=u.jsx(r("IGDExternalShareItem.react"),{icon:s,label:o("PolarisPostShareStrings").COPY_LINK,logData:f,onClick:g}),n[11]=f,n[12]=g,n[13]=h):h=n[13],h}function m(e){var t,n=o("react-compiler-runtime").c(12),a=e.post,i=e.url,l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Facebook"),n[0]=l):l=n[0];var d=l,m;n[1]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsx(r("IGDSFacebookCircleOutlineIcon.react"),{alt:d,size:c}),n[1]=m):m=n[1];var p=(t=a.owner)==null?void 0:t.id,_;n[2]!==a.id||n[3]!==a.loggingInfoToken||n[4]!==p||n[5]!==i?(_={media_author_id:p,media_id:a.id,ranking_info_token:a.loggingInfoToken,share_option:"facebook",url:i},n[2]=a.id,n[3]=a.loggingInfoToken,n[4]=p,n[5]=i,n[6]=_):_=n[6];var f;n[7]!==i?(f=o("PolarisShareHelpers").getShareToFBURL(i),n[7]=i,n[8]=f):f=n[8];var g;return n[9]!==_||n[10]!==f?(g=u.jsx(r("IGDExternalShareItem.react"),{icon:m,label:d,logData:_,url:f}),n[9]=_,n[10]=f,n[11]=g):g=n[11],g}function p(e){var t,n=o("react-compiler-runtime").c(12),a=e.post,i=e.url,l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Messenger"),n[0]=l):l=n[0];var d=l,m;n[1]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsx(r("IGDSAppMessengerOutlineIcon.react"),{alt:d,size:c}),n[1]=m):m=n[1];var p=(t=a.owner)==null?void 0:t.id,_;n[2]!==a.id||n[3]!==a.loggingInfoToken||n[4]!==p||n[5]!==i?(_={media_author_id:p,media_id:a.id,ranking_info_token:a.loggingInfoToken,share_option:"messenger",url:i},n[2]=a.id,n[3]=a.loggingInfoToken,n[4]=p,n[5]=i,n[6]=_):_=n[6];var f;n[7]!==i?(f=o("PolarisShareHelpers").getShareToMessengerURL(i),n[7]=i,n[8]=f):f=n[8];var g;return n[9]!==_||n[10]!==f?(g=u.jsx(r("IGDExternalShareItem.react"),{icon:m,label:d,logData:_,url:f}),n[9]=_,n[10]=f,n[11]=g):g=n[11],g}function _(e){var t,n=o("react-compiler-runtime").c(13),a=e.description,i=e.post,l=e.url,d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Threads"),n[0]=d):d=n[0];var m=d,p;n[1]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx(r("IGDSBarcelonaLogoIcon.react"),{alt:m,size:c}),n[1]=p):p=n[1];var _=(t=i.owner)==null?void 0:t.id,f;n[2]!==i.id||n[3]!==i.loggingInfoToken||n[4]!==_||n[5]!==l?(f={media_author_id:_,media_id:i.id,ranking_info_token:i.loggingInfoToken,share_option:"barcelona",url:l},n[2]=i.id,n[3]=i.loggingInfoToken,n[4]=_,n[5]=l,n[6]=f):f=n[6];var g;n[7]!==a||n[8]!==l?(g=o("PolarisShareHelpers").getShareToThreadsURL(l,a),n[7]=a,n[8]=l,n[9]=g):g=n[9];var h;return n[10]!==f||n[11]!==g?(h=u.jsx(r("IGDExternalShareItem.react"),{icon:p,label:m,logData:f,url:g}),n[10]=f,n[11]=g,n[12]=h):h=n[12],h}function f(e){var t,n=o("react-compiler-runtime").c(13),a=e.description,i=e.post,l=e.url,c,d;n[0]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx(r("IGDSAppXPanoOutline24.svg.react"),{className:"x1qx5ct2 xw4jnvo",color:"rgb(var(--ig-primary-text))"}),d=s._(/*BTDS*/"X"),n[0]=c,n[1]=d):(c=n[0],d=n[1]);var m=(t=i.owner)==null?void 0:t.id,p;n[2]!==i.id||n[3]!==i.loggingInfoToken||n[4]!==m||n[5]!==l?(p={media_author_id:m,media_id:i.id,ranking_info_token:i.loggingInfoToken,share_option:"twitter",url:l},n[2]=i.id,n[3]=i.loggingInfoToken,n[4]=m,n[5]=l,n[6]=p):p=n[6];var _;n[7]!==a||n[8]!==l?(_=o("PolarisShareHelpers").getShareToTwitterURL(l,a),n[7]=a,n[8]=l,n[9]=_):_=n[9];var f;return n[10]!==p||n[11]!==_?(f=u.jsx(r("IGDExternalShareItem.react"),{icon:c,label:d,logData:p,url:_}),n[10]=p,n[11]=_,n[12]=f):f=n[12],f}function g(e){var t,n=o("react-compiler-runtime").c(13),a=e.description,i=e.post,l=e.url,d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"WhatsApp"),n[0]=d):d=n[0];var m=d,p;n[1]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx(r("IGDSWhatsappLogoOutlineIcon.react"),{alt:m,size:c}),n[1]=p):p=n[1];var _=(t=i.owner)==null?void 0:t.id,f;n[2]!==i.id||n[3]!==i.loggingInfoToken||n[4]!==_||n[5]!==l?(f={media_author_id:_,media_id:i.id,ranking_info_token:i.loggingInfoToken,share_option:"whatsapp",url:l},n[2]=i.id,n[3]=i.loggingInfoToken,n[4]=_,n[5]=l,n[6]=f):f=n[6];var g;n[7]!==a||n[8]!==l?(g=o("PolarisShareHelpers").getShareToWhatsAppURL(l,a),n[7]=a,n[8]=l,n[9]=g):g=n[9];var h;return n[10]!==f||n[11]!==g?(h=u.jsx(r("IGDExternalShareItem.react"),{icon:p,label:m,logData:f,url:g}),n[10]=f,n[11]=g,n[12]=h):h=n[12],h}function h(e){var t,n=o("react-compiler-runtime").c(16),a=e.post,i=e.url,l;n[0]!==i?(l=o("PolarisShareHelpers").getShareToSMSURL(i),n[0]=i,n[1]=l):l=n[1];var d=l,m;n[2]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"iMessage"),n[2]=m):m=n[2];var p=m,_;n[3]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"SMS"),n[3]=_):_=n[3];var f=_,g,h;n[4]===Symbol.for("react.memo_cache_sentinel")?(g=o("polarisGetAppPlatform").isIOS()?u.jsx(r("IGDSAppImessagePanoOutlineIcon.react"),{alt:p,size:c}):u.jsx(r("IGDSSmsPanoOutlineIcon.react"),{alt:f,size:c}),h=o("polarisGetAppPlatform").isIOS()?p:f,n[4]=g,n[5]=h):(g=n[4],h=n[5]);var y=(t=a.owner)==null?void 0:t.id,C;n[6]!==a.id||n[7]!==a.loggingInfoToken||n[8]!==y||n[9]!==i?(C={media_author_id:y,media_id:a.id,ranking_info_token:a.loggingInfoToken,share_option:o("polarisGetAppPlatform").isIOS()?"imessage":"SMS",url:i},n[6]=a.id,n[7]=a.loggingInfoToken,n[8]=y,n[9]=i,n[10]=C):C=n[10];var b;n[11]!==d?(b=o("polarisGetAppPlatform").isAndroid()?{onClick:function(){return window.open(d,"_top")}}:{url:d},n[11]=d,n[12]=b):b=n[12];var v;return n[13]!==C||n[14]!==b?(v=u.jsx(r("IGDExternalShareItem.react"),babelHelpers.extends({icon:g,label:h,logData:C},b)),n[13]=C,n[14]=b,n[15]=v):v=n[15],v}function y(e){var t,n=o("react-compiler-runtime").c(13),a=e.description,i=e.post,l=e.url,d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Email"),n[0]=d):d=n[0];var m=d,p;n[1]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx(r("IGDSMailOutlineIcon.react"),{alt:m,size:c}),n[1]=p):p=n[1];var _=(t=i.owner)==null?void 0:t.id,f;n[2]!==i.id||n[3]!==i.loggingInfoToken||n[4]!==_||n[5]!==l?(f={media_author_id:_,media_id:i.id,ranking_info_token:i.loggingInfoToken,share_option:"email",url:l},n[2]=i.id,n[3]=i.loggingInfoToken,n[4]=_,n[5]=l,n[6]=f):f=n[6];var g;n[7]!==a||n[8]!==l?(g=o("PolarisShareHelpers").getShareToEmailURL(l,a),n[7]=a,n[8]=l,n[9]=g):g=n[9];var h;return n[10]!==f||n[11]!==g?(h=u.jsx(r("IGDExternalShareItem.react"),{icon:p,label:m,logData:f,url:g}),n[10]=f,n[11]=g,n[12]=h):h=n[12],h}function C(e){var t,n=o("react-compiler-runtime").c(17),a=e.description,i=e.post,l=e.url,d=r("usePolarisAnalyticsContext")(),m=i.isVideo===!0?"video":i.isSidecar===!0?"sidecar":"photo",p;n[0]===Symbol.for("react.memo_cache_sentinel")?(p=o("usePolarisIgshHelpers").shouldAppendIgshDesktop(),n[0]=p):p=n[0];var _=p,f;n[1]!==d||n[2]!==a||n[3]!==i||n[4]!==m||n[5]!==l?(f=function(){r("polarisLogAction")("nativeShareClick",{source:d,type:m}),r("promiseDone")(o("PolarisShareHelpers").shareWithNative(a,o("PolarisPostShareUtils").getShareURL(i),"ig_web_button_native_share",_?o("PolarisShareHelpers").getIgshFromShareUrl(l):""))},n[1]=d,n[2]=a,n[3]=i,n[4]=m,n[5]=l,n[6]=f):f=n[6];var g=f,h;n[7]===Symbol.for("react.memo_cache_sentinel")?(h=s._(/*BTDS*/"See all"),n[7]=h):h=n[7];var y=h,C;if(n[8]!==i.id||n[9]!==i.loggingInfoToken||n[10]!==((t=i.owner)==null?void 0:t.id)||n[11]!==l){var b,v;C=_?{media_author_id:(b=i.owner)==null?void 0:b.id,media_id:i.id,ranking_info_token:i.loggingInfoToken,share_option:"native_share",url:l}:void 0,n[8]=i.id,n[9]=i.loggingInfoToken,n[10]=(v=i.owner)==null?void 0:v.id,n[11]=l,n[12]=C}else C=n[12];var S=C,R;n[13]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(r("IGDSForwardOutlineIcon.react"),{alt:y,size:c}),n[13]=R):R=n[13];var L;return n[14]!==g||n[15]!==S?(L=u.jsx(r("IGDExternalShareItem.react"),{icon:R,label:y,logData:S,onClick:g}),n[14]=g,n[15]=S,n[16]=L):L=n[16],L}function b(e){var t,n=o("react-compiler-runtime").c(61),a=e.post,i=e.xstyle,l=a.shareUrls,s;if(n[0]!==((t=a.owner)==null?void 0:t.username)||n[1]!==a.productType){var c,b,v,S;s=((c=a.owner)==null?void 0:c.username)!=null?o("PolarisShareHelpers").getShareDescription((b=a.owner)==null?void 0:b.username,(v=a.productType)!=null?v:"photo"):null,n[0]=(S=a.owner)==null?void 0:S.username,n[1]=a.productType,n[2]=s}else s=n[2];var R=s,L=l!=null?l[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.COPY_LINK]:"",E;n[3]===Symbol.for("react.memo_cache_sentinel")?(E=o("PolarisUA").isMobile(),n[3]=E):E=n[3];var k;n[4]!==L||n[5]!==a?(k=u.jsx(d,{post:a,url:L}),n[4]=L,n[5]=a,n[6]=k):k=n[6];var I;n[7]!==a||n[8]!==R||n[9]!==l?(I=l!=null&&R!=null&&o("PolarisUA").isMobile()&&u.jsx(g,{description:R,post:a,url:l[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.WHATSAPP]}),n[7]=a,n[8]=R,n[9]=l,n[10]=I):I=n[10];var T;n[11]!==a||n[12]!==l?(T=l!=null&&!o("PolarisUA").isMobile()&&u.jsx(m,{post:a,url:l[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.FACEBOOK]}),n[11]=a,n[12]=l,n[13]=T):T=n[13];var D;n[14]!==a||n[15]!==l?(D=l!=null&&u.jsx(p,{post:a,url:l[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.MESSENGER]}),n[14]=a,n[15]=l,n[16]=D):D=n[16];var x;n[17]!==a||n[18]!==l?(x=l!=null&&o("PolarisUA").isMobile()&&u.jsx(m,{post:a,url:l[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.FACEBOOK]}),n[17]=a,n[18]=l,n[19]=x):x=n[19];var $;n[20]!==a||n[21]!==R||n[22]!==l?($=l!=null&&R!=null&&!o("PolarisUA").isMobile()&&u.jsx(g,{description:R,post:a,url:l[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.WHATSAPP]}),n[20]=a,n[21]=R,n[22]=l,n[23]=$):$=n[23];var P;n[24]!==a||n[25]!==l?(P=l!=null&&o("PolarisUA").isMobile()&&u.jsx(h,{post:a,url:l[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.USER_SMS]}),n[24]=a,n[25]=l,n[26]=P):P=n[26];var N;n[27]!==a||n[28]!==R||n[29]!==l?(N=o("PolarisUA").isMobile()&&l!=null&&R!=null&&u.jsx(_,{description:R,post:a,url:l[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.THREADS]}),n[27]=a,n[28]=R,n[29]=l,n[30]=N):N=n[30];var M;n[31]!==a||n[32]!==R||n[33]!==l?(M=l!=null&&R!=null&&u.jsx(y,{description:R,post:a,url:l[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.EMAIL]}),n[31]=a,n[32]=R,n[33]=l,n[34]=M):M=n[34];var w;n[35]!==a||n[36]!==R||n[37]!==l?(w=!o("PolarisUA").isMobile()&&l!=null&&R!=null&&u.jsx(_,{description:R,post:a,url:l[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.THREADS]}),n[35]=a,n[36]=R,n[37]=l,n[38]=w):w=n[38];var A;n[39]!==a||n[40]!==R||n[41]!==l?(A=l!=null&&R!=null&&u.jsx(f,{description:R,post:a,url:l[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.TWITTER]}),n[39]=a,n[40]=R,n[41]=l,n[42]=A):A=n[42];var F;n[43]!==L||n[44]!==a||n[45]!==R?(F=R!=null&&o("PolarisShareHelpers").hasNativeShare()&&u.jsx(C,{description:R,post:a,url:L}),n[43]=L,n[44]=a,n[45]=R,n[46]=F):F=n[46];var O;return n[47]!==N||n[48]!==M||n[49]!==w||n[50]!==A||n[51]!==F||n[52]!==k||n[53]!==I||n[54]!==T||n[55]!==D||n[56]!==x||n[57]!==$||n[58]!==P||n[59]!==i?(O=u.jsx(r("PolarisHScrollContainer.react"),{disablePagerButtons:E,pagerVariant:o("PolarisPagerButton.react").PAGER_BUTTON_VARIANTS.supershare,children:u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",margin:"auto",paddingX:o("IGDExternalShareBarConstants").IGDExternalShareBarPaddingX,xstyle:i,children:[k,I,T,D,x,$,P,N,M,w,A,F]})}),n[47]=N,n[48]=M,n[49]=w,n[50]=A,n[51]=F,n[52]=k,n[53]=I,n[54]=T,n[55]=D,n[56]=x,n[57]=$,n[58]=P,n[59]=i,n[60]=O):O=n[60],O}l.default=b}),226);
__d("IGDSCircleXPanoFilled24Icon.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M12.001.504c-6.34 0-11.5 5.16-11.5 11.5s5.16 11.5 11.5 11.5 11.5-5.158 11.5-11.5-5.16-11.5-11.5-11.5zm4.707 14.793a1 1 0 1 1-1.414 1.414l-3.293-3.293-3.293 3.293a.997.997 0 0 1-1.414 0 1 1 0 0 1 0-1.414l3.293-3.293-3.293-3.293a1 1 0 1 1 1.414-1.414l3.293 3.293 3.293-3.293a1 1 0 1 1 1.414 1.414l-3.293 3.293 3.293 3.293z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("IGDSecureShareSheetCommentTextInput.react",["IGDSBox.react","IGDSTextInput.react","PolarisDirectStrings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useImperativeHandle,m=u.useState,p={commentTextInput:{display:"x78zum5",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",transition:"x13vyecm",$$css:!0},hiddenCommentTextInput:{height:"xqtp20y",visibility:"xlshs6z",$$css:!0},visibleCommentTextInput:{height:"x5kalc8",visibility:"xnpuxes",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(8),n=e.initialText,a=e.isHidden,i=e.ref,l=a===void 0?!1:a,u=m(n!=null?n:""),c=u[0],_=u[1],f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=function(t){_(t.target.value)},t[0]=f):f=t[0];var g=f,h;t[1]!==c?(h=function(){return{getComment:function(){return c}}},t[1]=c,t[2]=h):h=t[2],d(i,h);var y=l?p.hiddenCommentTextInput:p.visibleCommentTextInput,C;t[3]!==y?(C=[p.commentTextInput,y],t[3]=y,t[4]=C):C=t[4];var b;return t[5]!==c||t[6]!==C?(b=s.jsx(r("IGDSBox.react"),{children:s.jsx(r("IGDSTextInput.react"),{backgroundColor:"transparent",name:"shareCommentText",onChange:g,placeholder:o("PolarisDirectStrings").COMMENT_INPUT_PLACEHOLDER,style:"borderless",testid:void 0,value:c,xstyle:C})}),t[5]=c,t[6]=C,t[7]=b):b=t[7],b}l.default=_}),98);
__d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useRef,p=c(new Map);function _(e){var t=e.children,n=m(new Map);return s.jsx(p.Provider,{value:n.current,children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(){return d(p)}l.IGDSecureShareSheetS2SInstanceKeyContextProvider=_,l.useIGDSecureShareSheetS2SInstanceKeyContext=f}),98);
__d("IGDShareSheetV3OnSubmitFactory",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(t){return function(r,o,a,i){var l=r.instamadilloRecipients,s=r.openRecipients;return s!=null&&s.size>0&&t(s,o,a,i),(e||(e=n("Promise"))).resolve()}}i.default=l}),66);
__d("IGDSupershareConstants",[],(function(t,n,r,o,a,i){"use strict";var e=116,l=98,s=3,u=120;i.SUPERSHARE_CONTACT_HEIGHT_PX=e,i.SUPERSHARE_CONTACT_WIDTH_PX=l,i.SUPERSHARE_INSET_PADDING_X=s,i.SUPERSHARE_BOTTOM_BAR_HEIGHT=u}),66);
__d("PolarisDirectActionLoadThread",["PolarisDirectAPI","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisPerformanceLogger","PolarisToastActions","QuickPerformanceLogger","polarisDirectSelectors","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return function(a,i){var l=o("PolarisPerformanceLogger").getInstanceKeyFromId(t);(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(35586051,"152"),l);var s=o("polarisDirectSelectors").getThreadExitCounter(i(),t);return o("PolarisDirectAPI").getThread(t,n).then(function(n){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(35586051,"152"),2,l),s===o("polarisDirectSelectors").getThreadExitCounter(i(),t)&&a(o("PolarisDirectActionThreadLoaded").threadLoaded(n.thread))},function(t){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(35586051,"152"),3,l),o("PolarisDirectActionsLogger").directActionsLogger.logError("direct_load_thread_failed",t),a(o("PolarisToastActions").showToast({text:o("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})}}l.loadThread=s}),98);
__d("PolarisDirectActionCreateDirectInboxLoaded",["polarisNormalizeDirectThreads"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e.inbox,o=n.has_older,a=n.oldest_cursor,i=n.threads,l=r("polarisNormalizeDirectThreads")(i);return babelHelpers.extends({at:Date.now(),inboxPagination:{hasOlder:o,isLoading:!1,oldestCursor:a},messages:l.entities.items,threads:l.entities.threads,type:"DIRECT_INBOX_LOADED",users:l.entities.users},t)}l.createDirectInboxLoaded=e}),98);
__d("PolarisDirectActionCreatePendingThreadsLoaded",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){return{messages:e,pagination:r,threads:t,type:"DIRECT_INBOX_PENDING_THREADS_LOADED",users:n}}i.createPendingThreadsLoaded=e}),66);
__d("PolarisDirectActionRefreshPendingInbox",["PolarisDirectAPI","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","polarisDirectSelectors","polarisNormalizeDirectThreads"],(function(t,n,r,o,a,i,l){"use strict";function e(){return function(e,t){var n=o("polarisDirectSelectors").getPendingRequestsPagination(t());return o("PolarisDirectAPI").getPendingInbox({cursor:n==null?void 0:n.oldestCursor}).then(function(t){var n=r("polarisNormalizeDirectThreads")(t.inbox.threads),a=n.entities,i=a.items,l=a.threads,s=a.users,u=t.inbox,c=u.has_older,d=u.oldest_cursor;e(o("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded(i,l,s,{hasOlder:c,oldestCursor:d}))},function(t){o("PolarisDirectActionsLogger").directActionsLogger.logError("direct_refresh_pending_inbox_failed",t),e(o("PolarisToastActions").showToast({text:o("PolarisDirectStrings").GENERIC_ERROR_MESSAGE})),e(o("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))})}}l.refreshPendingInbox=e}),98);
__d("PolarisDirectActionLoadInbox",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionCreateDirectInboxLoaded","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionsLogger","PolarisDirectLogger","PolarisDirectStrings","PolarisGenericStrings","QuickPerformanceLogger","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return t===void 0&&(t=o("PolarisDirectActionConstants").loadInboxDefaults),function(n,a){return(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(35586049,"4342")),n({type:"DIRECT_INBOX_LOADING"}),o("PolarisDirectAPI").getInbox("inbox_snapshot",{folder:t.folder,limit:o("PolarisDirectActionConstants").DIRECT_MSYS_INBOX_SNAPSHOT_LIMIT,thread_message_limit:o("PolarisDirectActionConstants").DIRECT_INBOX_THREAD_MESSAGE_LIMIT}).then(function(i){String(i.viewer.pk)!==o("PolarisConfig").getViewerId()&&window.location.reload(),(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(35586049,"4342"),2);var l=i.pending_requests_total;l>0&&n(o("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox());var s=a(),u=s.direct,c=u==null?void 0:u.seqId,d=i.seq_id,m=!0;c!=null&&c>d&&(o("PolarisDirectActionsLogger").directActionsLogger.logError("seq_id_decrease_on_inbox_load",{new:d,old:c}),m=t.forceSeqIdUpdate),m&&o("PolarisDirectLogger").DirectLogger.debugTrace("seq_id_updated",d),n(o("PolarisDirectActionCreateDirectInboxLoaded").createDirectInboxLoaded(i,{pendingRequestsTotal:l,seqId:m?d:void 0}))},function(a){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(35586049,"4342"),3),o("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_load_failed",a),n({toast:{actionHandler:function(){n(s(t))},actionText:o("PolarisGenericStrings").RETRY_TEXT,text:o("PolarisDirectStrings").INBOX_LOAD_ERROR},type:"DIRECT_INBOX_LOAD_FAILED"})})}}l.loadInbox=s}),98);
__d("PolarisDirectActionReloadInbox",["PolarisConfig","PolarisDirectActionConstants","PolarisDirectActionLoadInbox","asyncToGeneratorRuntime","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e===void 0&&(e=o("PolarisDirectActionConstants").loadInboxDefaults),(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){return t({type:"DIRECT_CLEAR",viewerId:r("nullthrows")(o("PolarisConfig").getViewerId())}),yield t(o("PolarisDirectActionLoadInbox").loadInbox(e))});return function(e){return t.apply(this,arguments)}})()}l.reloadInbox=e}),98);
__d("PolarisDirectActionConnectToMqtt",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionLoadThread","PolarisDirectActionReloadInbox","PolarisDirectConstants","PolarisDirectDeltaHandlers","PolarisDirectLogger","PolarisDirectMQTTInstance","PolarisIncomingCallActions","PolarisRoutes","asyncToGeneratorRuntime","browserHistory_DO_NOT_USE","nullthrows","polarisNormalizeDirectItems","polarisNormalizeDirectThreads","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";function e(t,a){a===void 0&&(a=!1);var i=r("uuidv4")();i=i.substring(i.lastIndexOf("-")+1);var l=new(o("PolarisDirectLogger")).DirectLogger("DirectActions",i);return l.debugTrace("start",{forceReconnect:a,newSubscriptionType:t}),function(u,c){var d=c(),m=d.direct,p=m.realtimeState,_=p.mqttConnectivity,f=p.subscriptionType;if(l.debugTrace("internal",{currentSubscriptionType:f,forceReconnect:a,newSubscriptionType:t}),!a&&_==="Connected"&&f===t){l.debugTrace("noop");return}var g=function(t,n,a,i){var e,l=o("PolarisDirectDeltaHandlers").parseDeltaItem(t);if(l!==null){var s=o("polarisNormalizeDirectItems").normalizeDirectItems([l]);u({message:s.entities.items[l.item_id],mutationToken:n,threadId:a,type:"DIRECT_MESSAGE_UPDATED",users:s.entities.users,viewerId:r("nullthrows")(o("PolarisConfig").getViewerId())}),((e=l.replied_to_message)==null?void 0:e.item_id)!=null&&u({message:s.entities.items[l.replied_to_message.item_id],mutationToken:n,threadId:a,type:"DIRECT_MESSAGE_UPDATED",users:s.entities.users,viewerId:r("nullthrows")(o("PolarisConfig").getViewerId())})}},h=function(t,n,r,a,i,l,s){var e=c().direct.threads.get(n);u(e?{emoji:i,itemId:r,likeAction:t,superReactType:l,timestamp:s,type:"DIRECT_MESSAGE_REACTION_UPDATED",userId:a}:o("PolarisDirectActionLoadThread").loadThread(n,{limit:1}))},y=function(t,n,r){u({senderId:r,threadId:n,timestamp:t,type:"DIRECT_TYPING_INDICATOR_STOPPED"})},C=function(t,n,r,a,i,l,s){t===5&&u(o("PolarisIncomingCallActions").ackCall())},b=m.seqId,v=Date.now();t==="message"&&m.snapshotAt!=null&&(v=m.snapshotAt);var S={onHasSeen:function(t,n,r,a){var e=o("PolarisDirectDeltaHandlers").parseDeltaItem(t);if(e!==null){var i=e.item_id,l=e.timestamp;u({messageId:i,threadId:r,timestamp:l,type:"DIRECT_SEEN_STATE_UPDATED",userId:a})}},onIndicateTypingActivity:function(t,n,a){var e=o("PolarisDirectDeltaHandlers").parseDeltaItem(t);if(e!==null){var i=e.activity_status,s=e.sender_id,u=e.timestamp,c=r("nullthrows")(s),d=r("nullthrows")(i);l.debugTrace("indicate_typing_activity",{senderId:c,typingStatus:d}),d===o("PolarisDirectConstants").TypingStatus.OFF&&y(u,a,c)}},onIrisConnectivityChanged:function(t,n){l.debugTrace("iris_connectivity",{newConnectivity:t,newType:n}),u({irisConnectivity:t,subscriptionType:n,type:"DIRECT_IRIS_CONNECTIVITY_CHANGED"})},onMakeAdmin:function(t,n,r,o){u({adminUserId:o,threadId:r,type:"DIRECT_THREAD_ADMIN_ADDED"})},onMqttConnectivityChanged:function(t){l.debugTrace("mqtt_connectivity",t),u({mqttConnectivity:t,type:"DIRECT_MQTT_CONNECTIVITY_CHANGED"})},onNewMessage:function(t,n,r,a){var e=c().direct.threads.get(r);if(e){g(t,n,r,a);var i=o("PolarisDirectDeltaHandlers").parseDeltaItem(t);if(i===null)return;var l=o("polarisNormalizeDirectItems").normalizeDirectItems([i]);y(i.timestamp,r,l.entities.items[i.item_id].user_id)}else u(o("PolarisDirectActionLoadThread").loadThread(r,{limit:1}))},onNewThread:function(t,n,a){var e=o("PolarisDirectDeltaHandlers").parseDeltaItem(t);if(e!==null){var i=r("polarisNormalizeDirectThreads")([e]);u({messages:i.entities.items,threads:i.entities.threads,type:"DIRECT_THREAD_LOADED",users:i.entities.users})}},onRemoveAdmin:function(t,n,r,o){u({adminUserId:o,threadId:r,type:"DIRECT_THREAD_ADMIN_REMOVED"})},onRemoveEmoji:function(t,n,r,a,i){h(o("PolarisDirectConstants").LikeAction.DELETED,r,a,i)},onRemoveMessage:function(t,n,r,o){u({itemId:o,threadId:r,type:"DIRECT_MESSAGE_REMOVED"})},onRemoveThread:function(t,n,r){window.location.href.indexOf("/t/"+r)!==-1&&o("browserHistory_DO_NOT_USE").browserHistory.push(o("PolarisRoutes").DIRECT_INBOX),u({threadId:r,type:"DIRECT_REMOVE_THREAD"})},onResnapshotRequested:(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.seq_id,r=t.subscription_type;l.logDirectEvent("resnapshot_requested",{seq_id:n,subscription_type:r}),yield u(o("PolarisDirectActionReloadInbox").reloadInbox({forceSeqIdUpdate:!0}));var a=c(),i=a.direct.seqId;l.debugTrace("resnapshot_done",{newSeqId:i}),i!==n?(l.logDirectEvent("reconnect_after_resnapshot",{newSeqId:i}),u(e(r,!0))):l.logError("seq_id_not_updated_after_resnapshot",babelHelpers.extends({new:i,old:n},t))});function r(e){return t.apply(this,arguments)}return r})(),onSeqIdUpdated:function(t){b!=null&&b>t?l.logError("seq_id_decrease",{new:t,old:b}):(l.debugTrace("seq_id_updated",t),u({seqId:t,type:"DIRECT_SEQ_ID_UPDATED"}))},onUnseenCountChange:function(t){var e=o("PolarisDirectDeltaHandlers").parseDeltaNumber(t);u({count:e,type:"DIRECT_UNSEEN_COUNT_UPDATED"})},onUpdatedMessage:g,onUpdateDMSettings:function(t,n,r){var e=o("PolarisDirectDeltaHandlers").parseDMSettings(t);e!=null&&u({dm_settings:e,threadId:r,type:"DIRECT_THREAD_DM_SETTINGS_UPDATED"})},onUpdateEmoji:function(t,n,r,a,i){var e=t!=null?String(o("PolarisDirectDeltaHandlers").parseDeltaItem(t)):void 0;h(o("PolarisDirectConstants").LikeAction.CREATED,r,a,i,e)}};b==null?(l.logError("seq_id_is_null"),o("PolarisDirectAPI").getBadgeCount().then(function(e){e.seq_id!=null&&s(e.seq_id,v,t,i,S,C)})):s(b,v,t,i,S,C)}}function s(e,t,n,r,a,i){o("PolarisDirectMQTTInstance").createMqttInstance(e,t,n,r).then(function(e){e!=null&&e.connect(a,i)})}l.connectToMqtt=e}),98);
__d("PolarisDirectActionInitInbox",["PolarisDirectAPI","PolarisDirectActionConnectToMqtt","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionLoadInbox","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionReloadInbox","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){try{var r=n(),a=r.direct,i=a.inboxLoaded,l=a.seqId;o("PolarisDirectActionsLogger").directActionsLogger.debugTrace("initial_state",{inboxLoaded:i,seqId:l}),i?(t({type:"DIRECT_INBOX_READY"}),o("PolarisDirectAPI").getInbox("pending_only",{limit:0}).then(function(e){e.pending_requests_total>0?t(o("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox()):t(o("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))}).catch(function(e){o("PolarisDirectActionsLogger").directActionsLogger.logError("direct_init_inbox_failed",e),t(o("PolarisToastActions").showToast({text:o("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})):yield t(o("PolarisDirectActionLoadInbox").loadInbox(e)),t(o("PolarisDirectActionConnectToMqtt").connectToMqtt("message"))}catch(n){o("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_cache_failed",n),t(o("PolarisDirectActionReloadInbox").reloadInbox(e))}});return function(e,n){return t.apply(this,arguments)}})()}l.initInbox=e}),98);
__d("useIGDSecureShareSheetS2SLogger",["IGDSecureShareSheetS2SInstanceKeyContextProvider.react","QPLUserFlow","Random","qpl","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(){var e=o("IGDSecureShareSheetS2SInstanceKeyContextProvider.react").useIGDSecureShareSheetS2SInstanceKeyContext();return s(function(){return{markShareFail:function(n,o){var t=e.get(o);t!=null&&r("QPLUserFlow").endFailure(r("qpl")._(832770902,"1857"),n.name,{error:n,instanceKey:t}),e.delete(o)},markShareStart:function(n,a,i){for(var t of n){var l,s,u=(l=i(t))!=null?l:{},c=o("Random").uint32();e.set(t,c),r("QPLUserFlow").start(r("qpl")._(832770902,"1857"),{annotations:babelHelpers.extends({},u,{string:{messageLength:(s=a.messageLength)==null?void 0:s.toString(),recipientID:t,shareType:a.shareType,source:a.source}}),instanceKey:c})}},markShareSuccess:function(n){var t=e.get(n);t!=null&&r("QPLUserFlow").endSuccess(r("qpl")._(832770902,"1857"),{instanceKey:t}),e.delete(n)}}},[e])}l.default=u}),98);
__d("useIGDShareSheetV3OnSendClick",["FBLogger","PolarisDirectStrings","PolarisToastActions","isStringNullOrEmpty","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t,n,a){var i=o("react-compiler-runtime").c(5),l;return i[0]!==e||i[1]!==n||i[2]!==t||i[3]!==a?(l=function(l,s){n();var i=new Map,u=new Map;s.forEach(function(e,t){r("isStringNullOrEmpty")(e.id)||i.set(t,e)}),r("promiseDone")(t({instamadilloRecipients:u,openRecipients:i},l),function(){a()},function(t){a(),r("FBLogger")("igd_web").mustfix("Error sharing attachment to users in sharesheet:"+t.message),e(o("PolarisToastActions").showToast({text:o("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})},i[0]=e,i[1]=n,i[2]=t,i[3]=a,i[4]=l):l=i[4],l}l.default=u}),98);
__d("useLogClipsAdDirectReshareSend",["InstagramAdDirectReshareSendFalcoEvent","InstagramODS","PolarisContainerModuleUtils","PolarisViewpointActionUtils","polarisRelationshipSelectors.react","react","react-compiler-runtime","usePolarisAnalyticsContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(9),n=e.clipsAdInfo,a=e.mediaType,i=e.mpk,l=e.ownerId,s=r("usePolarisAnalyticsContext")(),u=n,c=o("polarisRelationshipSelectors.react").useRelationship(l||""),d;t[0]!==c?(d=function(){return c!=null?o("PolarisViewpointActionUtils").getFollowStatus(c):"unknown"},t[0]=c,t[1]=d):d=t[1];var m=d,p;return t[2]!==u||t[3]!==s||t[4]!==m||t[5]!==a||t[6]!==i||t[7]!==l?(p=function(){if(!(u==null||u.ad_id==null||u.tracking_token==null)){var e=u.ad_id,t=u.tracking_token,n=o("PolarisContainerModuleUtils").getContainerModule(s);r("InstagramODS").incr("web.ads.clips.share"),r("InstagramAdDirectReshareSendFalcoEvent").log(function(){return{a_pk:l!=null?l:"",ad_id:e,follow_status:m(),m_pk:i,m_t:a.toString(),pigeon_reserved_keyword_module:n,source_of_action:n,tracking_token:t}})}},t[2]=u,t[3]=s,t[4]=m,t[5]=a,t[6]=i,t[7]=l,t[8]=p):p=t[8],p}l.default=u}),98);
__d("useIGDShareSheetV3OnSubmitPost",["IGDShareSheetV3OnSubmitFactory","InstagramMediaProductTypeName","PolarisDirectActionSendPostToUsers","PolarisInteractionsLogger","PolarisReactRedux.react","PolarisViewpointActionUtils","emptyFunction","react-compiler-runtime","useLogClipsAdDirectReshareSend","useMaybeLogInstagramAdDirectReshareSend","usePolarisMQTT","useStableCallback"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var a=o("react-compiler-runtime").c(2),i=n===void 0?!1:n,l=s(e,t,i),u;return a[0]!==l?(u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t;return r("IGDShareSheetV3OnSubmitFactory")(l).apply(void 0,o)},a[0]=l,a[1]=u):u=a[1],r("useStableCallback")(u)}function s(e,t,n){var a,i,l=o("react-compiler-runtime").c(27),s=n===void 0?!1:n,u=r("usePolarisMQTT")(),c=o("PolarisReactRedux.react").useDispatch(),d;if(l[0]!==e.id||l[1]!==e.owner){var m;d=(m=o("PolarisViewpointActionUtils").getMPKForFeedMedia({id:e.id,owner:e.owner}))!=null?m:"",l[0]=e.id,l[1]=e.owner,l[2]=d}else d=l[2];var p=d,_;l[3]!==e?(_=o("PolarisInteractionsLogger").getMediaTypeFromPost(e),l[3]=e,l[4]=_):_=l[4];var f=_,g;l[5]!==e.productType?(g=r("InstagramMediaProductTypeName").cast(e.productType),l[5]=e.productType,l[6]=g):g=l[6];var h=g,y=(a=e.owner)==null?void 0:a.id,C;l[7]!==t||l[8]!==f||l[9]!==p||l[10]!==y?(C={clipsAdInfo:t,mediaType:f,mpk:p,ownerId:y},l[7]=t,l[8]=f,l[9]=p,l[10]=y,l[11]=C):C=l[11];var b=r("useLogClipsAdDirectReshareSend")(C),v=(i=e.owner)==null?void 0:i.id,S;l[12]!==f||l[13]!==p||l[14]!==e.id||l[15]!==v?(S={id:e.id,mediaType:f,mpk:p,ownerId:v},l[12]=f,l[13]=p,l[14]=e.id,l[15]=v,l[16]=S):S=l[16];var R=r("useMaybeLogInstagramAdDirectReshareSend")(S),L;return l[17]!==(t==null?void 0:t.tracking_token)||l[18]!==c||l[19]!==b||l[20]!==R||l[21]!==u||l[22]!==e.id||l[23]!==e.mediaOverlayInfo||l[24]!==h||l[25]!==s?(L=function(a,i,l,d){c(o("PolarisDirectActionSendPostToUsers").sendPostToUsers({comment:i!=null?i:void 0,customToast:s?r("emptyFunction"):void 0,mediaId:e.id,mediaOverlayInfo:e.mediaOverlayInfo,mqtt:u,onError:d,onSuccess:l,productType:h,recipients:a})),(t==null?void 0:t.tracking_token)!=null?b():R()},l[17]=t==null?void 0:t.tracking_token,l[18]=c,l[19]=b,l[20]=R,l[21]=u,l[22]=e.id,l[23]=e.mediaOverlayInfo,l[24]=h,l[25]=s,l[26]=L):L=l[26],r("useStableCallback")(L)}l.useIGDShareSheetV3OnSubmitPost=e,l.useIGDShareSheetV3SendPostToOpenRecipients=s}),98);
__d("usePolarisShareSheetPopoverPost_media.graphql",["polarisMediaSrcSetResolver"],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisShareSheetPopoverPost_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,fragment:{args:null,kind:"FragmentSpread",name:"polarisMediaSrcSetResolver"},kind:"RelayResolver",name:"client__srcSet",resolverModule:n("polarisMediaSrcSetResolver").client__srcSet,path:"client__srcSet"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"usePolarisShareSheetPopoverPost_user"}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"usePolarisMediaOverlayInfo_media"},{args:null,kind:"FragmentSpread",name:"useShareUrlsDictFragment"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisShareSheetPopoverPost_user.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisShareSheetPopoverPost_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("useShareUrlsDictFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useShareUrlsDictFragment",selections:[{alias:null,args:null,concreteType:"XDTMediaShareableTracking",kind:"LinkedField",name:"share_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"copy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facebook",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"threads",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"twitter",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"whatsapp",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("useShareUrlsDict",["CometRelay","PolarisThirdPartyPlatformType","react-compiler-runtime","useShareUrlsDictFragment.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r=o("react-compiler-runtime").c(9),a=o("CometRelay").useFragment(e!==void 0?e:e=n("useShareUrlsDictFragment.graphql"),t);if(a==null)return null;var i=a.share_urls;if(i==null)return null;var l;if(r[0]!==i.copy||r[1]!==i.email||r[2]!==i.facebook||r[3]!==i.messenger||r[4]!==i.sms||r[5]!==i.threads||r[6]!==i.twitter||r[7]!==i.whatsapp){var s;l={},l[(s=o("PolarisThirdPartyPlatformType")).PolarisThirdPartyPlatformType.EMAIL]=i.email,l[s.PolarisThirdPartyPlatformType.FACEBOOK]=i.facebook,l[s.PolarisThirdPartyPlatformType.THREADS]=i.threads,l[s.PolarisThirdPartyPlatformType.MESSENGER]=i.messenger,l[s.PolarisThirdPartyPlatformType.TWITTER]=i.twitter,l[s.PolarisThirdPartyPlatformType.WHATSAPP]=i.whatsapp,l[s.PolarisThirdPartyPlatformType.USER_SMS]=i.sms,l[s.PolarisThirdPartyPlatformType.COPY_LINK]=i.copy,r[0]=i.copy,r[1]=i.email,r[2]=i.facebook,r[3]=i.messenger,r[4]=i.sms,r[5]=i.threads,r[6]=i.twitter,r[7]=i.whatsapp,r[8]=l}else l=r[8];return l}l.default=s}),98);
__d("usePolarisShareSheetPopoverPost",["CometRelay","PolarisMediaConstants","react","react-compiler-runtime","usePolarisMediaOverlayInfo","usePolarisShareSheetPopoverPost_media.graphql","usePolarisShareSheetPopoverPost_user.graphql","useShareUrlsDict"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useMemo;function d(t){var a,i,l,u,c,d,m,p=o("react-compiler-runtime").c(19),_=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisShareSheetPopoverPost_media.graphql"),t),f=o("CometRelay").useFragment(s!==void 0?s:s=n("usePolarisShareSheetPopoverPost_user.graphql"),_.user),g=r("usePolarisMediaOverlayInfo")(_),h=r("useShareUrlsDict")(_),y=_.client__srcSet,C,b=(a=_.code)!=null?a:void 0,v=(i=_.ig_media_sharing_disabled)!=null?i:!1,S=(l=_.inventory_source)!=null?l:"",R=_.media_type===o("PolarisMediaConstants").MediaTypes.VIDEO,L=(u=f.is_private)!=null?u:void 0,E=(c=f.profile_pic_url)!=null?c:void 0,k=(d=f.username)!=null?d:void 0,I;p[0]!==f.pk||p[1]!==L||p[2]!==E||p[3]!==k?(I={id:f.pk,isPrivate:L,profilePictureUrl:E,username:k},p[0]=f.pk,p[1]=L,p[2]=E,p[3]=k,p[4]=I):I=p[4];var T=h!=null?h:void 0,D=y!=null&&y.length>0?y[0].src:void 0,x=(m=_.can_viewer_reshare)!=null?m:void 0,$;return p[5]!==_.audience||p[6]!==_.logging_info_token||p[7]!==_.pk||p[8]!==_.product_type||p[9]!==g||p[10]!==b||p[11]!==D||p[12]!==x||p[13]!==v||p[14]!==S||p[15]!==R||p[16]!==I||p[17]!==T?($={audience:_.audience,code:b,id:_.pk,igMediaSharingDisabled:v,inventorySource:S,isVideo:R,loggingInfoToken:_.logging_info_token,mediaOverlayInfo:g,owner:I,productType:_.product_type,shareUrls:T,src:D,viewerCanReshare:x},p[5]=_.audience,p[6]=_.logging_info_token,p[7]=_.pk,p[8]=_.product_type,p[9]=g,p[10]=b,p[11]=D,p[12]=x,p[13]=v,p[14]=S,p[15]=R,p[16]=I,p[17]=T,p[18]=$):$=p[18],C=$,C}l.default=d}),98);
__d("useShowRecipientLimitReachedDialog",["fbt","IGDContactSearchDialogType.flow","react","requireDeferred","useCometDeferredDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useCallback,c=r("requireDeferred")("IGDAlertDialog.react").__setRef("useShowRecipientLimitReachedDialog"),d=function(t){switch(t){case o("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.OMNIPICKER:return s._(/*BTDS*/"Group limit reached");case o("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE:return s._(/*BTDS*/"Forward limit reached");case o("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET:return s._(/*BTDS*/"Send limit reached")}},m=function(t,n){switch(t){case o("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.OMNIPICKER:return s._(/*BTDS*/"The total number of people who can be in a group is {group limit}. Please limit the number of people to {group limit (same)}, including yourself, to finish creating this group.",[s._param("group limit",n),s._param("group limit (same)",n)]);case o("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE:return s._(/*BTDS*/"Forwarding messages is limited to {forward limit} people at a time.",[s._param("forward limit",n)]);case o("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET:return s._(/*BTDS*/"Please reduce the number of people you're sending this message to and try again.")}};function p(e,t){var n=r("useCometDeferredDialog")(c);return u(function(){n({body:m(e,t),close:s._(/*BTDS*/"OK"),title:d(e)})},[t,e,n])}l.default=p}),226);