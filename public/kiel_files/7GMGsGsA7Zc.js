;/*FB_PKG_DELIM*/

__d("warnUnsupportedProp",["warning"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){r("warning")(!1,"%s component does not support prop `%s`.%s",e,t,n?" "+n:"")}l.default=e}),98);
__d("ImageCore.react",["CometVisualCompletionAttributes","URI","coerceImageishSprited","coerceImageishURL","getImageSourceURLFromImageish","joinClasses","react","warnUnsupportedProp"],(function(t,n,r,o,a,i,l){"use strict";var e=["forwardedRef"],s=["src","style"],u=["ref"],c,d,m=d||(d=o("react"));function p(e){return e instanceof(c||(c=r("URI")))?e.toString():e}function _(t){var n=t.forwardedRef,o=babelHelpers.objectWithoutPropertiesLoose(t,e),a=r("joinClasses")(o.className,"img"),i=p(o.src);if(i==null)return m.jsx("img",babelHelpers.extends({},o,{className:a,ref:n}));var l=r("coerceImageishSprited")(i),u=l&&o.alt!=null&&String(o.alt)!==""?m.jsx("u",{children:o.alt}):null;if(typeof i=="string")return m.jsx("img",babelHelpers.extends({},o,{className:a,ref:n,src:i,children:u}));if(l){var c=o.src,d=o.style,_=babelHelpers.objectWithoutPropertiesLoose(o,s);return m.jsx("i",babelHelpers.extends({},_,r("CometVisualCompletionAttributes").CSS_IMG,{className:r("joinClasses")(a,l.type==="css"?l.className:void 0),ref:n,style:l.type==="cssless"?babelHelpers.extends({},d,l.style):d,children:u}))}var f=r("getImageSourceURLFromImageish")(i),g=r("coerceImageishURL")(i);return o.width===void 0&&o.height===void 0&&g?m.jsx("img",babelHelpers.extends({},o,{className:a,height:g.height,src:f,ref:n,width:g.width,children:u})):m.jsx("img",babelHelpers.extends({},o,{className:a,ref:n,src:f,children:u}))}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,u);return Object.prototype.hasOwnProperty.call(n,"source")&&r("warnUnsupportedProp")("ImageCore","source","Did you mean `src`?"),m.jsx(_,babelHelpers.extends({},n,{alt:n.alt===void 0?"":n.alt,forwardedRef:t}))}f.displayName=f.name+" [from "+i.id+"]",f.displayName="ImageCore",l.default=f}),98);
__d("Image.react",["ImageCore.react"],(function(t,n,r,o,a,i,l){l.default=r("ImageCore.react")}),98);
__d("ImageWwwCssDependency",[],(function(t,n,r,o,a,i){"use strict";var e=null;i.default=e}),66);
__d("PolarisMediaPrefetcher.react",["PolarisResponsiveImage.react","polarisLogAction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="PREFETCHED_IMAGE",c="PREFETCHED_VIDEO",d=new Set,m=new Set,p=new Set,_=[],f=10*1e3,g=(function(e){function t(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.state={next:null},n.$6=function(){var e=n.state.next;e!=null&&(r("polarisLogAction")("mediaPrefetchSuccess",{resource:n.state.next}),d.add(e.id),n.setState(t.prefetchNext(n.props))),n.$1()&&n.$2()},babelHelpers.assertThisInitialized(n)||babelHelpers.assertThisInitialized(n)}babelHelpers.inheritsLoose(t,e),t.getDerivedStateFromProps=function(n){return t.prefetchNext(n)};var n=t.prototype;return n.componentDidMount=function(){this.$1()?this.$2():this.$3()},n.componentDidUpdate=function(){this.$3()},n.componentWillUnmount=function(){p.clear(),m.clear();for(var e of _)window.clearTimeout(e);_.length=0},n.shouldComponentUpdate=function(t,n){return this.props.enabled!==t.enabled||this.state.next!==n.next},t.prefetchNext=function(t){var e=t.enabled,n=t.resources;if(!e)return null;for(var r of n)if(!(d.has(r.id)||m.has(r.id)))return{next:r};return{next:null}},n.$4=function(t){return d.has(t)||m.has(t)},n.$1=function(){if(this.props.postIds==null)return!1;for(var e of this.props.resources)if(!this.$4(e.id))return!1;return!0},n.$3=function(){var e=this,t=this.state.next;if(t!=null&&!p.has(t.id)){var n=window.setTimeout(function(){d.has(t.id)||e.$5(t.id)},f);p.add(t.id),_.push(n)}},n.$2=function(){this.props.resources.length>0&&r("polarisLogAction")("mediaPrefetchComplete",{eligibleResourceCount:this.props.resources.length,successCount:d.size,timeoutCount:m.size,viewKey:this.props.viewKey}),this.props.onLoadComplete!=null&&this.props.onLoadComplete()},n.$5=function(n){r("polarisLogAction")("mediaPrefetchTimedOut",{resource:this.state.next}),m.add(n),p.delete(n),this.setState(t.prefetchNext(this.props)),this.$1()&&this.$2()},n.render=function(){var e=this.props,t=e.currentPostId,n=e.enabled,o=e.layoutWrapper,a=this.state.next;if(a==null||!n)return null;var i=!this.$4(a.id)&&(t==null||t!=null&&t!==a.id),l=i&&(a.type===u?s.jsx(r("PolarisResponsiveImage.react"),{className:"xqtp20y xlshs6z xh8yej3",onError:this.$6,onLoad:this.$6,src:a.src,srcSet:a.srcSet},a.src):null);return s.jsx(o,{resource:a,children:l})},t})(s.Component);g.defaultProps={enabled:!0,layoutWrapper:function(t){var e=t.children;return e}};function h(){d.clear(),p.clear(),m.clear()}l.PREFETCHED_IMAGE=u,l.PREFETCHED_VIDEO=c,l.TIMEOUT_DURATION=f,l.MediaPrefetcher=g,l._resetState=h}),98);
__d("makeImmutable",[],(function(t,n,r,o,a,i){"use strict";function e(e){throw new Error("This empty "+(e!=null?e:"Object")+" cannot be mutated.")}function l(e,t){return e}i.default=l}),66);
__d("emptyArray",["makeImmutable"],(function(t,n,r,o,a,i,l){"use strict";var e=r("makeImmutable")([],["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]),s=e;l.default=s}),98);
__d("PolarisMediaPrefetchContainer_DEPRECATED.react",["PolarisMediaPrefetcher.react","PolarisPostUtils","PolarisReactRedux.react","emptyArray","polarisPostSelectors","polarisStorySelectors","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return e.isVideo===!0?null:e.src!=null&&e.src!==""&&e.displayResources&&e.dimensions!=null?{id:e.id,intrinsicDimensions:e.dimensions,src:e.src,srcSet:e.displayResources,type:o("PolarisMediaPrefetcher.react").PREFETCHED_IMAGE}:null}function c(e){var t=e.sidecarChildren;if(t!=null&&t.length){var n=o("PolarisPostUtils").getInitialSidecarIndexFromPost(e);return u(t[n])}return u(e)}function d(e,t){var n=t.getResourceFromPost||c,a=o("polarisStorySelectors").getCurrentReel(e),i=e.stories.currentReelItemIndex,l=a!=null&&a.itemIds!=null?a.itemIds[i]:null;return{currentPostId:l,enabled:t.viewKey==null||!!e.mediaPrefetches.isEnabledForView[t.viewKey],resources:(t.postIds||r("emptyArray")).map(function(t){var r=o("polarisPostSelectors").getPostOrNullById(e,t);return r?n(r):null}).filter(Boolean)}}var m=o("PolarisReactRedux.react").connect(d)(o("PolarisMediaPrefetcher.react").MediaPrefetcher);l.default=m}),98);